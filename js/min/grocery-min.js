!function(){var e=angular.module("groceryList",[]),t=[{name:"peaches"}],i=[{name:"Sriracha Lime Chicken",ingredients:[{name:"chicken breasts"},{name:"sriracha"},{name:"limes"}]},{name:"Balsamic Pork Roast",ingredients:[{name:"Balsamic Vinegar"},{name:"Pork Roast"},{name:"White Onion"}]}];if(localStorage&&localStorage.getItem("items"));else{localStorage.setItem("items",JSON.stringify(t));var n=JSON.parse(localStorage.getItem("items"));console.log(n)}e.controller("GroceryForm",function(){this.item={},this.tab=1,this.item.type="single",this.setTab=function(e){this.tab=e,1===this.tab?this.item.type="single":(this.item.type="meal",this.item.ingredients=[])},this.isSelected=function(e){return this.tab===e},this.meals=i,this.addItem=function(){var e=this.checkList(this.item);if(e.forEach(function(e){t.push(e),console.log(n)}),"single"===this.item.type)this.item={type:"single"};else{if("meal"!==this.item.type)throw new Error("item.type is "+this.item.type);i.push(this.item),this.item={type:"meal",ingredients:[]}}},this.addMealToList=function(e){var i=t.map(function(e){return e.name});e.ingredients.forEach(function(e){-1===i.indexOf(e.name)&&t.push(e)})},this.checkList=function(e){var i=t.map(function(e){return e.name});if("meal"===this.item.type){var n=e.ingredients.map(function(e){return-1===i.indexOf(e.name)?e:void 0});return n}return-1===i.indexOf(e.name)?new Array(e):[]},this.isDisabled=function(){return this.item.ingredients&&0===this.item.ingredients.length},this.ingredient={},this.addIngr=function(){this.item.ingredients.push(this.ingredient),this.ingredient={}},this.removeIngr=function(e){var t=this.item.ingredients.indexOf(e);this.item.ingredients.splice(t,1)}}),e.directive("singleItem",function(){return{restrict:"E",templateUrl:"templates/single-item.html"}}),e.directive("meals",function(){return{restrict:"E",templateUrl:"templates/meals.html"}}),e.directive("populatedList",function(){return{restrict:"E",templateUrl:"templates/populated-list.html",controller:function(){this.products=t,this.removeProduct=function(e){var i=t.indexOf(e);t.splice(i,1)}},controllerAs:"list"}})}();